{"version":3,"sources":["webpack:///angular-stripe.js","webpack:///webpack/bootstrap 77c131ee7f56e91359cb","webpack:///./src/index.js","webpack:///./src/provider.js","webpack:///./src/service.js","webpack:///./~/stripe-as-promised/index.js","webpack:///./~/xtend/mutable.js","webpack:///./~/dot-prop/index.js","webpack:///./~/angular-load/angular-load.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_provider","_angularLoad","angular","provider","stripeProvider","name","angularLoad","$window","$q","setPublishableKey","defer","loadScript","then","stripe","Stripe","resolve","noPublishAbleKey","console","log","reject","this","promise","$get","_service","stripeFactory","Object","defineProperty","value","undefined","$inject","deferred","_stripeAsPromised2","err","_stripeAsPromised","promisify","Promise","method","receiver","resolver","args","Array","prototype","slice","arguments","apply","concat","stripeResponseHandler","status","response","error","extend","Error","dot","asyncMethods","helperMethods","forEach","names","split","receiverName","methodName","set","get","target","i","length","source","key","hasOwnProperty","isObjOrFn","x","path","pathArr","some","index","service","$document","$timeout","loader","createElement","promises","url","element","onload","onreadystatechange","e","readyState","onerror","document","src","script","body","appendChild","loadCSS","href","style","rel","type","head"],"mappings":"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","file":"angular-stripe.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _provider = __webpack_require__(1);\n\t\n\tvar _angularLoad = __webpack_require__(6);\n\t\n\tvar _angularLoad2 = _interopRequireDefault(_angularLoad);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = angular.module('angular-stripe', ['angularLoad']).provider('stripe', _provider.stripeProvider).name;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.stripeProvider = undefined;\n\t\n\tvar _service = __webpack_require__(2);\n\t\n\texports.stripeProvider = stripeProvider;\n\t\n\t\n\tstripeProvider.$inject = ['angularLoad', '$window', '$q'];\n\tfunction stripeProvider(angularLoad, $window, $q) {\n\t    var setPublishableKey = $q.defer();\n\t\n\t    angularLoad.loadScript('https://js.stripe.com/v2/').then(function () {\n\t        var stripe = $window.Stripe;\n\t        setPublishableKey.resolve(stripe.setPublishableKey);\n\t    }).catch(function () {\n\t        setPublishableKey.reject(noPublishAbleKey);\n\t        function noPublishAbleKey() {\n\t            console.log('Stripe is not available as window.Stripe');\n\t        };\n\t    });\n\t\n\t    this.setPublishableKey = setPublishableKey.promise;\n\t\n\t    this.$get = _service.stripeFactory;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.stripeFactory = undefined;\n\t\n\tvar _stripeAsPromised = __webpack_require__(3);\n\t\n\tvar _stripeAsPromised2 = _interopRequireDefault(_stripeAsPromised);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.stripeFactory = stripeFactory;\n\t\n\t\n\tstripeFactory.$inject = ['angularLoad', '$q', '$window'];\n\tfunction stripeFactory(angularLoad, $q, $window) {\n\t    var deferred = $q.defer();\n\t\n\t    angularLoad.loadScript('https://js.stripe.com/v2/').then(function () {\n\t        var Stripe = $window.Stripe;\n\t        deferred.resolve((0, _stripeAsPromised2.default)(Stripe, $q));\n\t    }).catch(function (err) {\n\t        deferred.reject(err);\n\t    });\n\t\n\t    return deferred.promise;\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\t\n\tvar extend = __webpack_require__(4)\n\tvar dot = __webpack_require__(5)\n\t\n\tvar asyncMethods = [\n\t  'card.createToken',\n\t  'bankAccount.createToken',\n\t  'bitcoinReceiver.createReceiver',\n\t  'bitcoinReceiver.pollReceiver',\n\t  'bitcoinReceiver.getReceiver',\n\t]\n\t\n\tvar helperMethods = [\n\t  'setPublishableKey',\n\t  'card.validateCardNumber',\n\t  'card.validateExpiry',\n\t  'card.validateCVC',\n\t  'card.cardType',\n\t  'bankAccount.validateRoutingNumber',\n\t  'bankAccount.validateAccountNumber',\n\t  'bitcoinReceiver.cancelReceiverPoll'\n\t]\n\t\n\tmodule.exports = function promisifyStripe (Stripe, Promise) {\n\t  if (typeof Stripe !== 'function') throw new Error('Stripe.js must be provided')\n\t  if (typeof Promise !== 'function') throw new Error('Promise constructor must be provided')\n\t  var stripe = {}\n\t  asyncMethods.forEach(function (method) {\n\t    var names = method.split('.')\n\t    var receiverName = names[0]\n\t    var methodName = names[1]\n\t    dot.set(stripe, method, promisify(Promise, methodName, Stripe[receiverName], stripeResponseHandler))\n\t  })\n\t  helperMethods.forEach(function (method) {\n\t    dot.set(stripe, method, dot.get(Stripe, method))\n\t  })\n\t  return stripe\n\t}\n\t\n\tfunction promisify (Promise, method, receiver, resolver) {\n\t  return function promisified () {\n\t    var args = Array.prototype.slice.call(arguments)\n\t    return new Promise(function (resolve, reject) {\n\t      receiver[method].apply(receiver, args.concat(function promisifiedResolve () {\n\t        resolver.apply({resolve: resolve, reject: reject}, arguments)\n\t      }))      \n\t    })\n\t  }\n\t}\n\t\n\tfunction stripeResponseHandler (status, response) {\n\t  if (response.error) {\n\t    this.reject(extend(new Error(), response.error))\n\t  }\n\t  else {\n\t    this.resolve(response)\n\t  }\n\t}\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = extend\n\t\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\t\n\tfunction extend(target) {\n\t    for (var i = 1; i < arguments.length; i++) {\n\t        var source = arguments[i]\n\t\n\t        for (var key in source) {\n\t            if (hasOwnProperty.call(source, key)) {\n\t                target[key] = source[key]\n\t            }\n\t        }\n\t    }\n\t\n\t    return target\n\t}\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction isObjOrFn(x) {\n\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t}\n\t\n\tmodule.exports.get = function (obj, path) {\n\t\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\t\treturn obj;\n\t\t}\n\t\n\t\tvar pathArr = path.split('.');\n\t\tpathArr.some(function (path, index) {\n\t\t\tobj = obj[path];\n\t\n\t\t\tif (obj === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\n\t\treturn obj;\n\t};\n\t\n\tmodule.exports.set = function (obj, path, value) {\n\t\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar pathArr = path.split('.');\n\t\tpathArr.forEach(function (path, index) {\n\t\t\tif (!isObjOrFn(obj[path])) {\n\t\t\t\tobj[path] = {};\n\t\t\t}\n\t\n\t\t\tif (index === pathArr.length - 1) {\n\t\t\t\tobj[path] = value;\n\t\t\t}\n\t\n\t\t\tobj = obj[path];\n\t\t});\n\t};\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t/* angular-load.js / v0.4.1 / (c) 2014, 2015, 2016 Uri Shaked / MIT Licence */\n\t\n\t(function () {\n\t\t'use strict';\n\t\n\t\tangular.module('angularLoad', [])\n\t\t\t.service('angularLoad', ['$document', '$q', '$timeout', function ($document, $q, $timeout) {\n\t\t\t\tvar document = $document[0];\n\t\n\t\t\t\tfunction loader(createElement) {\n\t\t\t\t\tvar promises = {};\n\t\n\t\t\t\t\treturn function(url) {\n\t\t\t\t\t\tif (typeof promises[url] === 'undefined') {\n\t\t\t\t\t\t\tvar deferred = $q.defer();\n\t\t\t\t\t\t\tvar element = createElement(url);\n\t\n\t\t\t\t\t\t\telement.onload = element.onreadystatechange = function (e) {\n\t\t\t\t\t\t\t\tif (element.readyState && element.readyState !== 'complete' && element.readyState !== 'loaded') {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\t\t\tdeferred.resolve(e);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\telement.onerror = function (e) {\n\t\t\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\t\t\tdeferred.reject(e);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\t\tpromises[url] = deferred.promise;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\treturn promises[url];\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\t/**\n\t\t\t\t * Dynamically loads the given script\n\t\t\t\t * @param src The url of the script to load dynamically\n\t\t\t\t * @returns {*} Promise that will be resolved once the script has been loaded.\n\t\t\t\t */\n\t\t\t\tthis.loadScript = loader(function (src) {\n\t\t\t\t\tvar script = document.createElement('script');\n\t\n\t\t\t\t\tscript.src = src;\n\t\n\t\t\t\t\tdocument.body.appendChild(script);\n\t\t\t\t\treturn script;\n\t\t\t\t});\n\t\n\t\t\t\t/**\n\t\t\t\t * Dynamically loads the given CSS file\n\t\t\t\t * @param href The url of the CSS to load dynamically\n\t\t\t\t * @returns {*} Promise that will be resolved once the CSS file has been loaded.\n\t\t\t\t */\n\t\t\t\tthis.loadCSS = loader(function (href) {\n\t\t\t\t\tvar style = document.createElement('link');\n\t\n\t\t\t\t\tstyle.rel = 'stylesheet';\n\t\t\t\t\tstyle.type = 'text/css';\n\t\t\t\t\tstyle.href = href;\n\t\n\t\t\t\t\tdocument.head.appendChild(style);\n\t\t\t\t\treturn style;\n\t\t\t\t});\n\t\t\t}]);\n\t})();\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** angular-stripe.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 77c131ee7f56e91359cb\n **/","import {stripeProvider} from './provider';\nimport ngLoader from 'angular-load';\n\nmodule.exports = angular.module('angular-stripe', ['angularLoad'])\n.provider('stripe', stripeProvider)\n.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import {stripeFactory} from './service';\n\nexport {stripeProvider};\n\nstripeProvider.$inject = ['angularLoad', '$window', '$q'];\nfunction stripeProvider (angularLoad, $window, $q) {\n    let setPublishableKey = $q.defer();\n\n    angularLoad.loadScript('https://js.stripe.com/v2/').then(function() {\n        let stripe = $window.Stripe;\n        setPublishableKey.resolve(stripe.setPublishableKey);\n    }).catch(function() {\n        setPublishableKey.reject(noPublishAbleKey)\n        function noPublishAbleKey() {\n            console.log('Stripe is not available as window.Stripe');\n        };\n    });\n\n    this.setPublishableKey = setPublishableKey.promise;\n\n    this.$get = stripeFactory;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/provider.js\n **/","import stripeAsPromised from 'stripe-as-promised';\n\nexport {stripeFactory};\n\nstripeFactory.$inject = ['angularLoad', '$q', '$window'];\nfunction stripeFactory (angularLoad, $q, $window) {\n    let deferred = $q.defer();\n\n    angularLoad.loadScript('https://js.stripe.com/v2/').then(function() {\n        let Stripe = $window.Stripe;\n        deferred.resolve(stripeAsPromised(Stripe, $q));\n    }).catch(function(err) {\n        deferred.reject(err);\n    });\n\n    return deferred.promise\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/service.js\n **/","'use strict'\n\nvar extend = require('xtend/mutable')\nvar dot = require('dot-prop')\n\nvar asyncMethods = [\n  'card.createToken',\n  'bankAccount.createToken',\n  'bitcoinReceiver.createReceiver',\n  'bitcoinReceiver.pollReceiver',\n  'bitcoinReceiver.getReceiver',\n]\n\nvar helperMethods = [\n  'setPublishableKey',\n  'card.validateCardNumber',\n  'card.validateExpiry',\n  'card.validateCVC',\n  'card.cardType',\n  'bankAccount.validateRoutingNumber',\n  'bankAccount.validateAccountNumber',\n  'bitcoinReceiver.cancelReceiverPoll'\n]\n\nmodule.exports = function promisifyStripe (Stripe, Promise) {\n  if (typeof Stripe !== 'function') throw new Error('Stripe.js must be provided')\n  if (typeof Promise !== 'function') throw new Error('Promise constructor must be provided')\n  var stripe = {}\n  asyncMethods.forEach(function (method) {\n    var names = method.split('.')\n    var receiverName = names[0]\n    var methodName = names[1]\n    dot.set(stripe, method, promisify(Promise, methodName, Stripe[receiverName], stripeResponseHandler))\n  })\n  helperMethods.forEach(function (method) {\n    dot.set(stripe, method, dot.get(Stripe, method))\n  })\n  return stripe\n}\n\nfunction promisify (Promise, method, receiver, resolver) {\n  return function promisified () {\n    var args = Array.prototype.slice.call(arguments)\n    return new Promise(function (resolve, reject) {\n      receiver[method].apply(receiver, args.concat(function promisifiedResolve () {\n        resolver.apply({resolve: resolve, reject: reject}, arguments)\n      }))      \n    })\n  }\n}\n\nfunction stripeResponseHandler (status, response) {\n  if (response.error) {\n    this.reject(extend(new Error(), response.error))\n  }\n  else {\n    this.resolve(response)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/stripe-as-promised/index.js\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xtend/mutable.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\nfunction isObjOrFn(x) {\n\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n}\n\nmodule.exports.get = function (obj, path) {\n\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\treturn obj;\n\t}\n\n\tvar pathArr = path.split('.');\n\tpathArr.some(function (path, index) {\n\t\tobj = obj[path];\n\n\t\tif (obj === undefined) {\n\t\t\treturn true;\n\t\t}\n\t});\n\n\treturn obj;\n};\n\nmodule.exports.set = function (obj, path, value) {\n\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\treturn;\n\t}\n\n\tvar pathArr = path.split('.');\n\tpathArr.forEach(function (path, index) {\n\t\tif (!isObjOrFn(obj[path])) {\n\t\t\tobj[path] = {};\n\t\t}\n\n\t\tif (index === pathArr.length - 1) {\n\t\t\tobj[path] = value;\n\t\t}\n\n\t\tobj = obj[path];\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dot-prop/index.js\n ** module id = 5\n ** module chunks = 0\n **/","/* angular-load.js / v0.4.1 / (c) 2014, 2015, 2016 Uri Shaked / MIT Licence */\n\n(function () {\n\t'use strict';\n\n\tangular.module('angularLoad', [])\n\t\t.service('angularLoad', ['$document', '$q', '$timeout', function ($document, $q, $timeout) {\n\t\t\tvar document = $document[0];\n\n\t\t\tfunction loader(createElement) {\n\t\t\t\tvar promises = {};\n\n\t\t\t\treturn function(url) {\n\t\t\t\t\tif (typeof promises[url] === 'undefined') {\n\t\t\t\t\t\tvar deferred = $q.defer();\n\t\t\t\t\t\tvar element = createElement(url);\n\n\t\t\t\t\t\telement.onload = element.onreadystatechange = function (e) {\n\t\t\t\t\t\t\tif (element.readyState && element.readyState !== 'complete' && element.readyState !== 'loaded') {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\t\tdeferred.resolve(e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\telement.onerror = function (e) {\n\t\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\t\tdeferred.reject(e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpromises[url] = deferred.promise;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn promises[url];\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Dynamically loads the given script\n\t\t\t * @param src The url of the script to load dynamically\n\t\t\t * @returns {*} Promise that will be resolved once the script has been loaded.\n\t\t\t */\n\t\t\tthis.loadScript = loader(function (src) {\n\t\t\t\tvar script = document.createElement('script');\n\n\t\t\t\tscript.src = src;\n\n\t\t\t\tdocument.body.appendChild(script);\n\t\t\t\treturn script;\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Dynamically loads the given CSS file\n\t\t\t * @param href The url of the CSS to load dynamically\n\t\t\t * @returns {*} Promise that will be resolved once the CSS file has been loaded.\n\t\t\t */\n\t\t\tthis.loadCSS = loader(function (href) {\n\t\t\t\tvar style = document.createElement('link');\n\n\t\t\t\tstyle.rel = 'stylesheet';\n\t\t\t\tstyle.type = 'text/css';\n\t\t\t\tstyle.href = href;\n\n\t\t\t\tdocument.head.appendChild(style);\n\t\t\t\treturn style;\n\t\t\t});\n\t\t}]);\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/angular-load/angular-load.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}