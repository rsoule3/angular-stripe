{"version":3,"sources":["webpack:///angular-stripe.js","webpack:///webpack/bootstrap 777b8f3e7dc4464241c2","webpack:///./src/index.js","webpack:///./src/provider.js","webpack:///./src/service.js","webpack:///./~/stripe-as-promised/index.js","webpack:///./~/xtend/mutable.js","webpack:///./~/dot-prop/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","provider","Stripe","window","angular","constant","run","verifyQ","name","stripeProvider","this","setPublishableKey","console","log","$get","service","$inject","factory","$q","stripeAsPromised","promisify","Promise","method","receiver","resolver","args","Array","prototype","slice","arguments","resolve","reject","apply","concat","stripeResponseHandler","status","response","error","extend","Error","dot","asyncMethods","helperMethods","stripe","forEach","names","split","receiverName","methodName","set","get","target","i","length","source","key","hasOwnProperty","Object","isObjOrFn","x","obj","path","pathArr","some","index","undefined","value"],"mappings":"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","file":"angular-stripe.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// var angular = require('angular')\n\t\n\tvar provider = __webpack_require__(1);\n\tvar Stripe = window.Stripe;\n\t\n\tmodule.exports = angular.module('angular-stripe', []).constant('Stripe', Stripe).provider('stripe', provider).run(verifyQ).name;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar service = __webpack_require__(2);\n\t\n\tmodule.exports = stripeProvider;\n\t\n\tstripeProvider.$inject = ['Stripe'];\n\t\n\tfunction stripeProvider(Stripe) {\n\t    if (Stripe) {\n\t        this.setPublishableKey = Stripe.setPublishableKey;\n\t    } else {\n\t        this.setPublishableKey = function () {\n\t            console.log('Stripe is not available as window.Stripe');\n\t        };\n\t    }\n\t\n\t    this.$get = service;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar stripeAsPromised = __webpack_require__(3);\n\t\n\tmodule.exports = factory;\n\t\n\tfactory.$inject = ['Stripe', '$q'];\n\tfunction factory(Stripe, $q) {\n\t  return stripeAsPromised(Stripe, $q);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\t\n\tvar extend = __webpack_require__(4)\n\tvar dot = __webpack_require__(5)\n\t\n\tvar asyncMethods = [\n\t  'card.createToken',\n\t  'bankAccount.createToken',\n\t  'bitcoinReceiver.createReceiver',\n\t  'bitcoinReceiver.pollReceiver',\n\t  'bitcoinReceiver.getReceiver',\n\t]\n\t\n\tvar helperMethods = [\n\t  'setPublishableKey',\n\t  'card.validateCardNumber',\n\t  'card.validateExpiry',\n\t  'card.validateCVC',\n\t  'card.cardType',\n\t  'bankAccount.validateRoutingNumber',\n\t  'bankAccount.validateAccountNumber',\n\t  'bitcoinReceiver.cancelReceiverPoll'\n\t]\n\t\n\tmodule.exports = function promisifyStripe (Stripe, Promise) {\n\t  if (typeof Stripe !== 'function') throw new Error('Stripe.js must be provided')\n\t  if (typeof Promise !== 'function') throw new Error('Promise constructor must be provided')\n\t  var stripe = {}\n\t  asyncMethods.forEach(function (method) {\n\t    var names = method.split('.')\n\t    var receiverName = names[0]\n\t    var methodName = names[1]\n\t    dot.set(stripe, method, promisify(Promise, methodName, Stripe[receiverName], stripeResponseHandler))\n\t  })\n\t  helperMethods.forEach(function (method) {\n\t    dot.set(stripe, method, dot.get(Stripe, method))\n\t  })\n\t  return stripe\n\t}\n\t\n\tfunction promisify (Promise, method, receiver, resolver) {\n\t  return function promisified () {\n\t    var args = Array.prototype.slice.call(arguments)\n\t    return new Promise(function (resolve, reject) {\n\t      receiver[method].apply(receiver, args.concat(function promisifiedResolve () {\n\t        resolver.apply({resolve: resolve, reject: reject}, arguments)\n\t      }))      \n\t    })\n\t  }\n\t}\n\t\n\tfunction stripeResponseHandler (status, response) {\n\t  if (response.error) {\n\t    this.reject(extend(new Error(), response.error))\n\t  }\n\t  else {\n\t    this.resolve(response)\n\t  }\n\t}\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = extend\n\t\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\t\n\tfunction extend(target) {\n\t    for (var i = 1; i < arguments.length; i++) {\n\t        var source = arguments[i]\n\t\n\t        for (var key in source) {\n\t            if (hasOwnProperty.call(source, key)) {\n\t                target[key] = source[key]\n\t            }\n\t        }\n\t    }\n\t\n\t    return target\n\t}\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction isObjOrFn(x) {\n\t\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n\t}\n\t\n\tmodule.exports.get = function (obj, path) {\n\t\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\t\treturn obj;\n\t\t}\n\t\n\t\tvar pathArr = path.split('.');\n\t\tpathArr.some(function (path, index) {\n\t\t\tobj = obj[path];\n\t\n\t\t\tif (obj === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\n\t\treturn obj;\n\t};\n\t\n\tmodule.exports.set = function (obj, path, value) {\n\t\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar pathArr = path.split('.');\n\t\tpathArr.forEach(function (path, index) {\n\t\t\tif (!isObjOrFn(obj[path])) {\n\t\t\t\tobj[path] = {};\n\t\t\t}\n\t\n\t\t\tif (index === pathArr.length - 1) {\n\t\t\t\tobj[path] = value;\n\t\t\t}\n\t\n\t\t\tobj = obj[path];\n\t\t});\n\t};\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** angular-stripe.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 777b8f3e7dc4464241c2\n **/","'use strict';\n\n// var angular = require('angular')\nvar provider = require('./provider');\nvar Stripe = window.Stripe;\n\nmodule.exports = angular.module('angular-stripe', [])\n.constant('Stripe', Stripe)\n.provider('stripe', provider)\n.run(verifyQ)\n.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","'use strict'\n\nvar service = require('./service');\n\nmodule.exports = stripeProvider;\n\nstripeProvider.$inject = ['Stripe'];\n\nfunction stripeProvider (Stripe) {\n  if (Stripe) {\n      this.setPublishableKey = Stripe.setPublishableKey;\n  } else {\n      this.setPublishableKey = function() {\n          console.log('Stripe is not available as window.Stripe');\n      };\n  }\n\n  this.$get = service;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/provider.js\n **/","'use strict'\n\nvar stripeAsPromised = require('stripe-as-promised')\n\nmodule.exports = factory\n\nfactory.$inject = ['Stripe', '$q']\nfunction factory (Stripe, $q) {\n  return stripeAsPromised(Stripe, $q)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/service.js\n **/","'use strict'\n\nvar extend = require('xtend/mutable')\nvar dot = require('dot-prop')\n\nvar asyncMethods = [\n  'card.createToken',\n  'bankAccount.createToken',\n  'bitcoinReceiver.createReceiver',\n  'bitcoinReceiver.pollReceiver',\n  'bitcoinReceiver.getReceiver',\n]\n\nvar helperMethods = [\n  'setPublishableKey',\n  'card.validateCardNumber',\n  'card.validateExpiry',\n  'card.validateCVC',\n  'card.cardType',\n  'bankAccount.validateRoutingNumber',\n  'bankAccount.validateAccountNumber',\n  'bitcoinReceiver.cancelReceiverPoll'\n]\n\nmodule.exports = function promisifyStripe (Stripe, Promise) {\n  if (typeof Stripe !== 'function') throw new Error('Stripe.js must be provided')\n  if (typeof Promise !== 'function') throw new Error('Promise constructor must be provided')\n  var stripe = {}\n  asyncMethods.forEach(function (method) {\n    var names = method.split('.')\n    var receiverName = names[0]\n    var methodName = names[1]\n    dot.set(stripe, method, promisify(Promise, methodName, Stripe[receiverName], stripeResponseHandler))\n  })\n  helperMethods.forEach(function (method) {\n    dot.set(stripe, method, dot.get(Stripe, method))\n  })\n  return stripe\n}\n\nfunction promisify (Promise, method, receiver, resolver) {\n  return function promisified () {\n    var args = Array.prototype.slice.call(arguments)\n    return new Promise(function (resolve, reject) {\n      receiver[method].apply(receiver, args.concat(function promisifiedResolve () {\n        resolver.apply({resolve: resolve, reject: reject}, arguments)\n      }))      \n    })\n  }\n}\n\nfunction stripeResponseHandler (status, response) {\n  if (response.error) {\n    this.reject(extend(new Error(), response.error))\n  }\n  else {\n    this.resolve(response)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/stripe-as-promised/index.js\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xtend/mutable.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\nfunction isObjOrFn(x) {\n\treturn (typeof x === 'object' || typeof x === 'function') && x !== null;\n}\n\nmodule.exports.get = function (obj, path) {\n\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\treturn obj;\n\t}\n\n\tvar pathArr = path.split('.');\n\tpathArr.some(function (path, index) {\n\t\tobj = obj[path];\n\n\t\tif (obj === undefined) {\n\t\t\treturn true;\n\t\t}\n\t});\n\n\treturn obj;\n};\n\nmodule.exports.set = function (obj, path, value) {\n\tif (!isObjOrFn(obj) || typeof path !== 'string') {\n\t\treturn;\n\t}\n\n\tvar pathArr = path.split('.');\n\tpathArr.forEach(function (path, index) {\n\t\tif (!isObjOrFn(obj[path])) {\n\t\t\tobj[path] = {};\n\t\t}\n\n\t\tif (index === pathArr.length - 1) {\n\t\t\tobj[path] = value;\n\t\t}\n\n\t\tobj = obj[path];\n\t});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dot-prop/index.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}